<odoo>
    <data>
<!--        <record id="act_open_description_poste" model="ir.actions.act_window">-->
<!--            <field name="name">Ouvrir la description de poste</field>-->
<!--            <field name="type">ir.actions.act_window</field>-->
<!--            <field name="res_model">rh.formdesc</field>-->
<!--            <field name="view_mode">form</field>-->
<!--            <field name="view_id" ref="view_form_description_poste"/>-->
<!--        </record>-->

        <!--                Liste des recrutements-->
        <record id="view_form_recruitment_tree" model="ir.ui.view">
            <field name="name">rh.form.tree</field>
            <field name="model">rh.form</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Liste des recrutements">
                    <field name="motif"/>
                    <field name="pourex"/>
                    <field name="budget"/>
                    <field name="intitule"/>
                    <field name="echeanceContrat"/>
                    <field name="xp"/>
                    <field name="lieu"/>
                    <field name="Deplacement"/>
                    <field name="dateEntree"/>
                    <button name="show_description" string="Voir description" type="object" class="oe_highlight"/>
                    <button name="show_annonce" string="Voir annonce" type="object" class="oe_highlight"/>

                </tree>
            </field>
        </record>


        <record id="view_form_description_poste" model="ir.ui.view">
            <field name="name">rh.desc.form</field>
            <field name="model">rh.desc</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group string="DÃ©crire le poste:">
                            <field name="intitule"/>
                            <field name="descr"/>
                            <field name="niveau"/>
                            <field name="diplome"/>
                            <field name="formation"/>
                            <field name="formation_experience"/>
                            <field name="savoir_faire"/>
                            <field name="savoir_etre"/>
                        </group>
                        <group>
                            <field name="type"/>
                            <field name="horaires"/>
                            <field name="remuneration"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!--        Formulaire de recrutement-->
        <record id="view_form_recruitment_form" model="ir.ui.view">
            <field name="name">rh.forme.form</field>
            <field name="model">rh.form</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <header>
                    <button name="action_open_description_poste" string="Ajouter description" type="object"
                            class="oe_highlight"/>
                </header>
                <form>
                    <sheet>
                        <group>
                            <field name="motif"/>
                            <field name="pourex"/>
                            <field name="budget"/>
                            <field name="intitule"/>
                            <field name="echeanceContrat"/>
                            <field name="xp"/>
                            <field name="lieu"/>
                            <field name="Deplacement"/>
                            <field name="autre"/>
                            <field name="dateEntree"/>
                            <button name="ajout_description" string="Ajouter une description" type="object" class="btn btn-primary" attrs="{'required': True}"/>
                            <button name="ajout_annonce" string="Ajouter une annonce" type="object" class="btn btn-primary"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="act_form_recruitment" model="ir.actions.act_window">
            <field name="name">Formulaire de recrutement</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">rh.form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{}</field>
        </record>

        <menuitem name="Formulaire" id="menu_form_recruitment" action="act_form_recruitment" parent="hr_recruitment.menu_hr_job_position"/>

        <!-- Action pour ouvrir la description du poste -->
        <!--        <record id="act_open_description_poste" model="ir.actions.act_window">-->
        <!--            <field name="name">Ouvrir la description de poste</field>-->
        <!--            <field name="type">ir.actions.act_window</field>-->
        <!--            <field name="res_model">rh.formdesc</field>-->
        <!--            <field name="view_mode">form</field>-->
        <!--            <field name="view_id" ref="view_form_description_poste"/>-->
        <!--        </record>-->

        <!-- Liaison de l'action au bouton -->
        <!--        <record id="button_open_description_poste" model="ir.ui.view">-->
        <!--            <field name="name">rh.formentry.form.button</field>-->
        <!--            <field name="model">rh.formentry</field>-->
        <!--            <field name="arch" type="xml">-->
        <!--                <form>-->
        <!--                    <header>-->
        <!--                        &lt;!&ndash; Bouton pour ouvrir la description du poste &ndash;&gt;-->
        <!--                        <button name="action_open_description_poste" string="Ouvrir la description de poste"-->
        <!--                                type="action" class="oe_highlight"/>-->
        <!--                    </header>-->
        <!--                    &lt;!&ndash; Reste du formulaire &ndash;&gt;-->
        <!--                </form>-->
        <!--            </field>-->
        <!--        </record>-->

        <record id="button_open_description_poste" model="ir.ui.view">
            <field name="name">rh.formentry.form.button</field>
            <field name="model">rh.formentry</field>
            <field name="arch" type="xml">
                <form>
                    <header>
                        <!-- Bouton pour ouvrir la description du poste -->
                        <button name="action_open_description_poste" string="Ouvrir la description de poste"
                                type="action" class="oe_highlight"/>
                    </header>
                    <!-- Reste du formulaire -->
                </form>
            </field>
        </record>
    </data>
</odoo>

